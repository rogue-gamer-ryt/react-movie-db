(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{208:function(e,t,n){e.exports=n(408)},213:function(e,t,n){},408:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"keys",function(){return R}),n.d(r,"getTopMovies",function(){return V}),n.d(r,"searchMovies",function(){return A}),n.d(r,"getMovieDetails",function(){return D});var o=n(0),a=n.n(o),i=n(11),c=n.n(i),u=(n(213),n(33)),s=n(34),l=n(38),p=n(35),v=n(37),d=n(16),m=n(82),O=n(36),h=n(411),f=n(410),g=n(23),b=n(20),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0,o=t[r.type];return o?o(n,r):n}},j=function(e,t){return Object(d.a)({type:e},t)},M=function(e,t,n){return function(r){return r(j("".concat(e,"_START"),{request:n})),t(n).then(function(t){t.json().then(function(t){return r(j("".concat(e,"_SUCCESS"),{response:t}))}).catch(function(t){return r(j("".concat(e,"_ERROR"),{error:t}))})})}},S={isLoading:!1,response:null,request:null},w=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return E(r,Object(d.a)((t={},Object(b.a)(t,"".concat(e,"_START"),function(e,t){return Object(d.a)({},e,{isLoading:!0,request:t.request})}),Object(b.a)(t,"".concat(e,"_SUCCESS"),function(e,t){return Object(d.a)({},e,{isLoading:!1,response:t.response})}),Object(b.a)(t,"".concat(e,"_ERROR"),function(e,t){return Object(d.a)({},e,{isLoading:!1,error:t.error})}),t),n))},_=n(44),y=n.n(_),I=n(84),k=function(e,t){var n="".concat("https://api.themoviedb.org/3").concat(e,"?api_key=").concat("c974563e1138de20ae7ecd4d444b1545","&language=en-US");return t&&Object.keys(t).forEach(function(e){return n+="&".concat(e,"=").concat(t[e])}),n},T=function(){var e=Object(I.a)(y.a.mark(function e(t){var n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,r=k("/movie/top_rated",{page:n}),e.abrupt("return",fetch(r));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(I.a)(y.a.mark(function e(t){var n,r,o;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,r=t.query,o=k("/search/movie",{page:n,query:r}),e.abrupt("return",fetch(o));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(I.a)(y.a.mark(function e(t){var n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.movieId,r=k("/movie/".concat(n)),e.abrupt("return",fetch(r));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),R={GET_TOP_MOVIES:"GET_TOP_MOVIES",SEARCH_MOVIES:"SEARCH_MOVIES",GET_MOVIE_DETAILS:"GET_MOVIE_DETAILS"},V=function(e){return M(R.GET_TOP_MOVIES,T,{page:e})},A=function(e,t){return M(R.SEARCH_MOVIES,L,{query:e,page:t})},D=function(e){return M(R.GET_MOVIE_DETAILS,C,{movieId:e})},B=n(68),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;return"https://image.tmdb.org/t/p/w".concat(e)},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return e?Object(d.a)({},e,{backdrop_path:"".concat(P(t)).concat(e.backdrop_path),poster_path:"".concat(P(t)).concat(e.poster_path)}):{}},H=n(409),q="OPEN_MOVIE_MODAL",x="CLOSE_MOVIE_MODAL",U={cardTitle:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},cardMedia:{maxHeight:394,overflow:"hidden"},card:{cursor:"pointer",height:400,overflow:"hidden"},bgImage:{width:"100%"}},W=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={isMouseOver:!1},n}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.movie,r=t.openMovieModal,o=this.state.isMouseOver?n.overview:null;return a.a.createElement(g.b,{style:U.card,onMouseOver:function(){return e.setState({isMouseOver:!0})},onMouseLeave:function(){return e.setState({isMouseOver:!1})},onClick:function(){return r(n.id)}},a.a.createElement(g.c,{style:U.cardMedia,overlay:a.a.createElement(g.d,{title:n.title,subtitle:o})},a.a.createElement("img",{style:U.bgImage,src:n.poster_path})))}}]),t}(a.a.Component),z=Object(O.b)(function(){return{}},{openMovieModal:function(e){return{type:q,movieId:e}}})(W),J=n(58),$=n.n(J),N={refreshStyle:{position:"relative",display:"block",margin:"0 auto"}},Y=function(e){var t=e.isLoading,n=e.children;return t?a.a.createElement(g.f,{style:N.refreshStyle,top:0,left:0,size:80,status:"loading"}):n||null},F={movieColumn:{marginBottom:20}},K=function(e){var t=e.movies,n=e.isLoading,r=t?t.map(function(e){return a.a.createElement(H.a,{style:F.movieColumn,key:e.id,xs:12,sm:4,md:3,lg:3},a.a.createElement(z,{movie:e}))}):null;return a.a.createElement(f.a,null,r,a.a.createElement(Y,{isLoading:n}))},Q=function(e){return{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(".concat(e,")"),backgroundRepeat:"no-repeat",backgroundSize:"100%",height:"100%",minHeight:400,color:"white",padding:10}},X=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.movieId&&this.props.movieId!==e.movieId&&e.getMovieDetails(e.movieId)}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.closeMovieModal,r=e.isLoading,o=G(this.props.movie),i=o&&o.genres?o.genres.map(function(e){return e.name}).join(", "):"";return a.a.createElement(g.e,{autoScrollBodyContent:!0,title:null,modal:!1,open:t,onRequestClose:n},a.a.createElement(Y,{isLoading:r},a.a.createElement("div",{style:Q(o.backdrop_path)},a.a.createElement("h1",null,o.title),a.a.createElement("h5",null,i),a.a.createElement("p",null,o.overview),a.a.createElement("p",null,"Popularity: ",o.popularity),a.a.createElement("p",null,"Budget: $",o.budget))))}}]),t}(a.a.Component),Z=Object(O.b)(function(e){return{isOpen:$.a.get(e,"movieBrowser.movieModal.isOpen",!1),movieId:$.a.get(e,"movieBrowser.movieModal.movieId"),movie:$.a.get(e,"movieBrowser.movieDetails.response",{}),isLoading:$.a.get(e,"movieBrowser.movieDetails.isLoading",!1)}},{closeMovieModal:function(){return{type:x}},getMovieDetails:D})(X),ee=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={currentPage:1},n.handleScroll=n.handleScroll.bind(Object(m.a)(n)),n}return Object(v.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=this.handleScroll,this.props.getTopMovies(this.state.currentPage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(){if(!this.props.topMovies.isLoading&&function(e){var t=e.document.documentElement.scrollHeight,n=e.document.documentElement.clientHeight;return(e.pageYOffset+n)/t}(window)>.8){var e=this.state.currentPage+1;this.props.getTopMovies(e),this.setState({currentPage:e})}}},{key:"render",value:function(){var e,t=this.props.topMovies,n=(e=t.response)?Object(B.a)(e.results.map(function(e){return G(e)})):null;return a.a.createElement("div",null,a.a.createElement(g.a,{title:"Movie Browser"}),a.a.createElement(h.a,null,a.a.createElement(f.a,null,a.a.createElement("p",null,"Search will go here")),a.a.createElement(f.a,null,a.a.createElement(K,{movies:n,isLoading:t.isLoading}))),a.a.createElement(Z,null))}}]),t}(a.a.Component),te=Object(O.b)(function(e){return{topMovies:e.movieBrowser.topMovies}},Object(d.a)({},r))(ee),ne=n(81),re=n.n(ne),oe=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(re.a,null,a.a.createElement(te,null))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae,ie=n(27),ce=n(205),ue=n(206),se=E({isOpen:!1,movieId:void 0},(ae={},Object(b.a)(ae,q,function(e,t){return{isOpen:!0,movieId:t.movieId}}),Object(b.a)(ae,x,function(e,t){return Object(d.a)({},e,{isOpen:!1})}),ae)),le=function(e,t){var n=e.response?e.response.results:[];return Object(d.a)({},e,{isLoading:!1,response:Object(d.a)({},t.response,{results:[].concat(Object(B.a)(n),Object(B.a)(t.response.results))})})},pe=Object(ie.c)({movieModal:se,topMovies:w(R.GET_TOP_MOVIES,Object(b.a)({},"".concat(R.GET_TOP_MOVIES,"_SUCCESS"),le)),movieSearch:w(R.SEARCH_MOVIES,Object(b.a)({},"".concat(R.SEARCH_MOVIES,"_SUCCESS"),le)),movieDetails:w(R.GET_MOVIE_DETAILS)}),ve=Object(ie.c)({movieBrowser:pe}),de=Object(ue.createLogger)(),me=Object(ie.e)(ve,void 0,Object(ie.d)(Object(ie.a)(ce.a,de)));c.a.render(a.a.createElement(O.a,{store:me},a.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[208,1,2]]]);
//# sourceMappingURL=main.067d1909.chunk.js.map